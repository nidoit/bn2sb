# mkinitcpio.conf for Blunux Live ISO
# NOTE: This file is overwritten by archiso.jl during build.
# It exists as a fallback template only.
# Based on CachyOS Live ISO configuration

# MODULES
# Include USB HID drivers for broad hardware compatibility
# These ensure keyboard/mouse work even if autodetect doesn't find them
MODULES=(hid_generic usbhid xhci_hcd ohci_hcd ehci_hcd atkbd i8042)

# BINARIES
BINARIES=()

# FILES
FILES=()

# HOOKS
# Hook order based on CachyOS + archiso releng profile:
# - microcode: Load CPU microcode early (requires amd-ucode/intel-ucode packages)
# - keyboard: MUST come before block and filesystems for input to work
# - memdisk: Memory disk support for live environment
HOOKS=(base udev microcode modconf kms memdisk keyboard keymap consolefont block filesystems archiso archiso_loop_mnt archiso_pxe_common archiso_pxe_nbd archiso_pxe_http archiso_pxe_nfs)

# COMPRESSION
COMPRESSION="zstd"
